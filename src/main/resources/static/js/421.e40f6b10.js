"use strict";(self["webpackChunktext_generation_system"]=self["webpackChunktext_generation_system"]||[]).push([[421],{288:function(e,t,n){n.d(t,{CW:function(){return r},Kl:function(){return s},VB:function(){return i},Yh:function(){return o},hs:function(){return l}});var a=n(5720);function l(){return(0,a.A)({url:"/api/text_styles",method:"get"})}function r(e){return(0,a.A)({url:`/api/text_styles/${e}`,method:"get"})}function i(e){return(0,a.A)({url:"/api/text_styles",method:"post",data:e})}function o(e,t){return(0,a.A)({url:`/api/text_styles/${e}`,method:"put",data:t})}function s(e){return(0,a.A)({url:`/api/text_styles/${e}`,method:"delete"})}},5421:function(e,t,n){n.r(t),n.d(t,{default:function(){return b}});n(4114),n(8111),n(2489);var a=n(6768),l=n(5130),r=n(4232),i=n(144),o=n(1387),s=n(1219),u=n(288);const c={class:"text-style-list-container"},d={class:"header"},p={class:"header-buttons"},m={class:"content-wrapper"},g={class:"content"},h={class:"pagination-container"};var f={__name:"list",setup(e){const t=(0,o.rd)(),n=(0,i.KR)(!1),f=(0,i.KR)([]),v=(0,i.Kh)({page:1,limit:15,name:"",sort:"-updatedTime"}),k=async()=>{n.value=!0;try{console.log("获取文本风格列表...");const e=await(0,u.hs)();console.log("文本风格列表数据:",e),f.value=e||[],n.value=!1}catch(e){console.error("获取风格列表失败:",e),s.nk.error("获取风格列表失败"),n.value=!1}},b=e=>{v.page=e,k()},y=e=>{v.limit=e,k()},_=()=>{t.push("/text-style/create")},w=e=>{t.push(`/text-style/edit/${e}`)},C=async e=>{try{await(0,u.Kl)(e),(0,s.nk)({type:"success",message:"删除成功"}),k()}catch(t){console.error("删除风格失败:",t),s.nk.error("删除风格失败")}},x=(0,a.EW)((()=>v.name?f.value.filter((e=>e.name&&e.name.toLowerCase().includes(v.name.toLowerCase()))):f.value)),F=(0,a.EW)((()=>x.value.length)),L=(0,a.EW)((()=>{const e=(v.page-1)*v.limit,t=e+v.limit;return x.value.slice(e,t)}));return(0,a.sV)((()=>{k()})),(e,t)=>{const i=(0,a.g2)("el-input"),o=(0,a.g2)("el-button"),s=(0,a.g2)("el-table-column"),u=(0,a.g2)("el-popconfirm"),f=(0,a.g2)("el-table"),x=(0,a.g2)("el-pagination"),W=(0,a.gN)("loading");return(0,a.uX)(),(0,a.CE)("div",c,[(0,a.Lk)("div",d,[t[4]||(t[4]=(0,a.Lk)("div",null,[(0,a.Lk)("h2",null,"文本风格列表")],-1)),(0,a.Lk)("div",p,[(0,a.bF)(i,{modelValue:v.name,"onUpdate:modelValue":t[0]||(t[0]=e=>v.name=e),placeholder:"搜索风格名称","prefix-icon":"Search",clearable:"",onClear:k,onKeyup:(0,l.jR)(k,["enter"]),class:"search-input"},null,8,["modelValue"]),(0,a.bF)(o,{type:"primary",onClick:_},{default:(0,a.k6)((()=>t[3]||(t[3]=[(0,a.eW)("创建风格")]))),_:1})])]),(0,a.Lk)("div",m,[(0,a.Lk)("div",g,[(0,a.bo)(((0,a.uX)(),(0,a.Wv)(f,{data:L.value,border:""},{default:(0,a.k6)((()=>[(0,a.bF)(s,{label:"ID",width:"80"},{default:(0,a.k6)((e=>[(0,a.eW)((0,r.v_)(e.$index+1+(v.page-1)*v.limit),1)])),_:1}),(0,a.bF)(s,{prop:"name",label:"名称",width:"150"}),(0,a.bF)(s,{prop:"description",label:"描述","min-width":"400","show-overflow-tooltip":""}),(0,a.bF)(s,{label:"操作",width:"220",fixed:"right"},{default:(0,a.k6)((e=>[(0,a.bF)(o,{link:"",type:"primary",size:"small",onClick:t=>w(e.row.id)},{default:(0,a.k6)((()=>t[5]||(t[5]=[(0,a.eW)("编辑")]))),_:2},1032,["onClick"]),(0,a.bF)(u,{title:"确定删除此项?",onConfirm:t=>C(e.row.id)},{reference:(0,a.k6)((()=>[(0,a.bF)(o,{link:"",type:"danger",size:"small"},{default:(0,a.k6)((()=>t[6]||(t[6]=[(0,a.eW)("删除")]))),_:1})])),_:2},1032,["onConfirm"])])),_:1})])),_:1},8,["data"])),[[W,n.value]]),(0,a.Lk)("div",h,[(0,a.bF)(x,{"current-page":v.page,"onUpdate:currentPage":t[1]||(t[1]=e=>v.page=e),"page-size":v.limit,"onUpdate:pageSize":t[2]||(t[2]=e=>v.limit=e),"page-sizes":[15,30,50],layout:"total, sizes, prev, pager, next, jumper",total:F.value,onSizeChange:y,onCurrentChange:b},null,8,["current-page","page-size","total"])])])])])}}},v=n(1241);const k=(0,v.A)(f,[["__scopeId","data-v-d5218dce"]]);var b=k}}]);