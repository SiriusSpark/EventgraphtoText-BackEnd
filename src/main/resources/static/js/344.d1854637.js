"use strict";(self["webpackChunktext_generation_system"]=self["webpackChunktext_generation_system"]||[]).push([[344],{5344:function(e,l,a){a.r(l),a.d(l,{default:function(){return O}});a(4114),a(8111),a(2489),a(116),a(1701);var t=a(6768),r=a(4232),s=a(5130),u=a(144),o=a(1387),d=a(1219),i=a(8270);const n={class:"event-graph-edit-container"},c={class:"page-header"},p={class:"title-area"},v={key:0,class:"graph-info"},b={class:"description"},k={key:0,class:"header-actions"},g={class:"graph-editor"},m={class:"toolbar"},h={class:"graph-canvas"},f={class:"mock-graph-canvas"},y={key:0,class:"empty-graph"},_={key:1,class:"node-list"},F={class:"description-cell"},E={key:1},S={key:0},w={key:0},C={key:1},V={class:"date-input-wrapper"},R={class:"date-input-wrapper"},T={class:"dialog-footer"},U={class:"dialog-footer"};var W={__name:"edit",setup(e){const l=(0,o.lq)(),a=(0,o.rd)(),W=(0,u.KR)(null),I=(0,u.KR)(!1),L=(0,u.KR)(!1),O=(0,u.KR)(!1),N=(0,t.EW)((()=>l.path.includes("/edit/"))),X=((0,t.EW)((()=>"true"===l.query.view)),(0,t.EW)((()=>l.params.id))),Y=(0,u.Kh)({title:"",description:""}),K={title:[{required:!0,message:"请输入事件图标题",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],description:[{required:!0,message:"请输入事件图描述",trigger:"blur"}]},x=(0,u.KR)([]),D=(0,u.KR)([]),q=(0,u.KR)(1),A=(0,u.KR)(1),M=(0,u.KR)(!1),$=(0,u.Kh)({id:"",title:"",description:"",location:"",startTime:"",endTime:"",labels:[]}),j=(0,u.KR)(!1),B=(0,u.KR)(""),z=(0,u.KR)(null),P=(0,u.KR)(""),Q=(0,u.KR)(""),H=e=>{e&&($.startTime=e)},J=e=>{e&&($.endTime=e)},G=e=>{P.value=e},Z=e=>{Q.value=e},ee=()=>{j.value=!0,(0,t.dY)((()=>{z.value.focus()}))},le=()=>{B.value&&($.labels||($.labels=[]),$.labels.push(B.value),B.value=""),j.value=!1},ae=e=>{$.labels.splice(e,1)},te=(0,u.KR)(!1),re=(0,u.Kh)({id:"",label:"",source:"",target:"",type:"PRECEDES",strength:"中",description:""}),se=(0,u.Kh)({id:"",label:"",source:"",target:"",type:"",strength:"",description:""}),ue=(0,t.EW)((()=>["CAUSES","RESULTS_IN"].includes(re.type)));(0,t.wB)((()=>re.type),(e=>{["CAUSES","RESULTS_IN"].includes(e)&&!re.strength&&(re.strength="中")}));const oe=e=>{const l=x.value.find((l=>l.id===e));return l?l.title:`未知节点(${e})`},de=e=>{const l={PRECEDES:"先于",FOLLOWS:"后于",CONCURRENT_WITH:"同时",CAUSES:"导致",RESULTS_IN:"结果",COREFERS_TO:"共指",HAS_SUBEVENT:"包含子事件",SUBEVENT_OF:"属于"};return l[e]||e},ie=async()=>{if(N.value){I.value=!0;try{console.log("获取事件图详情:",X.value);const e=await(0,i.aR)(X.value);if(console.log("事件图详情响应:",e),e&&e.success&&e.data){Y.title=e.data.title||"",Y.description=e.data.description||"";const l=await(0,i.kW)(X.value);console.log("事件图元素数据响应:",l),l&&l.success&&l.data?(x.value=l.data.nodes||[],D.value=l.data.edges||[],x.value.length>0&&(q.value=Math.max(...x.value.map((e=>parseInt(e.id||"0"))))+1),D.value.length>0&&(A.value=Math.max(...D.value.map((e=>parseInt(e.id||"0"))))+1)):(x.value=[],D.value=[])}else d.nk.error(e?.message||e?.error||"获取事件图详情失败")}catch(e){console.error("获取事件图详情失败:",e),d.nk.error("获取事件图详情失败")}finally{I.value=!1}}},ne=()=>{Object.assign($,{id:"",title:"",description:"",location:"",startTime:"",endTime:"",labels:[]}),P.value="",Q.value="",M.value=!0},ce=e=>{const l=JSON.parse(JSON.stringify(e));l.labels||(l.labels=[]),Object.assign($,l),P.value=$.startTime||"",Q.value=$.endTime||"",M.value=!0},pe=async()=>{if($.title){L.value=!0;try{const e={eventGraphId:X.value};if($.title&&(e.title=$.title),void 0!==$.description&&(e.description=$.description),void 0!==$.location&&(e.location=$.location),void 0!==$.startTime&&(e.startTime=$.startTime),void 0!==$.endTime&&(e.endTime=$.endTime),$.labels&&$.labels.length>0&&(e.labels=$.labels),$.id){const t=await(0,i.kD)($.id,e);if(t&&t.success){const e=x.value.findIndex((e=>e.id===$.id));-1!==e&&(x.value[e]={...t.data}),d.nk.success("节点更新成功"),l.query.action&&a.push(`/event-graph/detail/${X.value}`)}else d.nk.error(t?.message||t?.error||"节点更新失败")}else{const t=await(0,i.PA)(e);t&&t.success?(x.value.push(t.data),d.nk.success("节点创建成功"),l.query.action&&a.push(`/event-graph/detail/${X.value}`)):d.nk.error(t?.message||t?.error||"节点创建失败")}M.value=!1}catch(e){console.error("保存节点失败:",e),d.nk.error("保存节点失败")}finally{L.value=!1}}else d.nk.warning("节点标题不能为空")},ve=async e=>{try{I.value=!0;const l=await(0,i.gq)(e);l&&l.success?(x.value=x.value.filter((l=>l.id!==e)),D.value=D.value.filter((l=>l.source!==e&&l.target!==e)),d.nk.success("节点删除成功")):d.nk.error(l?.message||l?.error||"节点删除失败")}catch(l){console.error("删除节点失败:",l),d.nk.error("删除节点失败")}finally{I.value=!1}},be=()=>{if(x.value.length<2)return void d.nk.warning("至少需要两个节点才能创建连接");const e="PRECEDES",l={id:"",source:"",target:"",type:e,description:""};["CAUSES","RESULTS_IN"].includes(e)&&(l.strength="中"),Object.assign(re,l),Object.assign(se,{id:"",source:"",target:"",type:"",strength:"",description:""}),te.value=!0},ke=e=>{const l=JSON.parse(JSON.stringify(e));l.type||(l.type="PRECEDES"),["CAUSES","RESULTS_IN"].includes(l.type)&&!l.strength&&(l.strength="中"),Object.assign(re,l),Object.assign(se,JSON.parse(JSON.stringify(l))),te.value=!0},ge=async()=>{if(re.source&&re.target)if(re.source!==re.target)if(re.type){O.value=!0;try{const e={eventGraphId:X.value};if(re.id){if(re.source!==se.source&&(e.sourceId=re.source),re.target!==se.target&&(e.targetId=re.target),re.type!==se.type&&(e.type=re.type),["CAUSES","RESULTS_IN"].includes(re.type)&&(re.strength===se.strength&&re.type===se.type||(e.strength=re.strength||"中")),1===Object.keys(e).length&&e.eventGraphId)return d.nk.info("没有字段被修改，不需要保存"),void(O.value=!1)}else e.sourceId=re.source,e.targetId=re.target,e.type=re.type,["CAUSES","RESULTS_IN"].includes(e.type)&&(e.strength=re.strength||"中");if(re.id){const t=await(0,i.di)(re.id,e);if(t&&t.success){const e=D.value.findIndex((e=>e.id===re.id));-1!==e&&(D.value[e]={...t.data}),d.nk.success("关系更新成功"),l.query.action&&a.push(`/event-graph/detail/${X.value}`)}else d.nk.error(t?.message||t?.error||"关系更新失败")}else{const t=await(0,i.G5)(e);t&&t.success?(D.value.push(t.data),d.nk.success("关系创建成功"),l.query.action&&a.push(`/event-graph/detail/${X.value}`)):d.nk.error(t?.message||t?.error||"关系创建失败")}te.value=!1}catch(e){console.error("保存关系失败:",e),d.nk.error("保存关系失败")}finally{O.value=!1}}else d.nk.warning("请选择关系类型");else d.nk.warning("起点和终点不能相同");else d.nk.warning("请选择起点和终点")},me=async e=>{try{I.value=!0;const l=await(0,i.d3)(e);l&&l.success?(D.value=D.value.filter((l=>l.id!==e)),d.nk.success("关系删除成功")):d.nk.error(l?.message||l?.error||"关系删除失败")}catch(l){console.error("删除关系失败:",l),d.nk.error("删除关系失败")}finally{I.value=!1}},he=()=>{W.value.validate((async e=>{if(e){I.value=!0;try{const e={title:Y.title,description:Y.description};if(console.log("提交事件图数据:",e),N.value)try{const l=await(0,i.im)(X.value,e);l&&l.success?(d.nk.success(l.message||"保存成功"),a.push(`/event-graph/detail/${X.value}`)):d.nk.error(l?.message||l?.error||"更新事件图失败")}catch(l){console.error("更新事件图失败:",l),d.nk.error(`更新事件图失败: ${l.message||"未知错误"}`)}else if(x.value.length>0||D.value.length>0){const e={nodes:x.value,edges:D.value};try{const l=await(0,i.$d)(X.value,e);l&&l.success?(d.nk.success("事件图编辑成功"),a.push(`/event-graph/detail/${X.value}`)):d.nk.error(l?.message||l?.error||"保存事件图元素失败")}catch(t){console.error("保存事件图元素失败:",t),d.nk.error(`保存事件图元素失败: ${t.message||"未知错误"}`)}}else d.nk.success("事件图保存成功"),a.push(`/event-graph/detail/${X.value}`)}catch(t){console.error("保存事件图失败:",t),d.nk.error(`保存事件图失败: ${t.message||"未知错误"}`)}finally{I.value=!1}}}))},fe=()=>{l.query.action?a.push(`/event-graph/detail/${X.value}`):a.push("/event-graph/list")};return(0,t.sV)((()=>{ie();const e=l.query.action;"addNode"===e?setTimeout((()=>{ne()}),500):"addEdge"===e&&setTimeout((()=>{be()}),500)})),(e,l)=>{const a=(0,t.g2)("el-button"),u=(0,t.g2)("el-input"),o=(0,t.g2)("el-form-item"),d=(0,t.g2)("el-table-column"),i=(0,t.g2)("el-tooltip"),X=(0,t.g2)("el-tag"),q=(0,t.g2)("el-table"),A=(0,t.g2)("el-form"),se=(0,t.g2)("el-date-picker"),ie=(0,t.g2)("el-dialog"),ye=(0,t.g2)("el-option"),_e=(0,t.g2)("el-option-group"),Fe=(0,t.g2)("el-select"),Ee=(0,t.gN)("loading");return(0,t.uX)(),(0,t.CE)("div",n,[(0,t.Lk)("div",c,[(0,t.Lk)("div",p,[(0,t.Lk)("h2",null,(0,r.v_)(N.value?"编辑事件图":"添加事件节点和关系"),1),Y.title?((0,t.uX)(),(0,t.CE)("div",v,[(0,t.Lk)("h3",null,(0,r.v_)(Y.title),1),(0,t.Lk)("p",b,(0,r.v_)(Y.description),1)])):(0,t.Q3)("",!0)]),N.value?((0,t.uX)(),(0,t.CE)("div",k,[(0,t.bF)(a,{type:"primary",onClick:he,loading:I.value},{default:(0,t.k6)((()=>l[19]||(l[19]=[(0,t.eW)("保存")]))),_:1},8,["loading"]),(0,t.bF)(a,{onClick:fe,disabled:I.value},{default:(0,t.k6)((()=>l[20]||(l[20]=[(0,t.eW)("返回列表")]))),_:1},8,["disabled"])])):(0,t.Q3)("",!0)]),(0,t.bF)(A,{ref_key:"formRef",ref:W,model:Y,rules:K,"label-width":"100px",class:"graph-form"},{default:(0,t.k6)((()=>[N.value?((0,t.uX)(),(0,t.Wv)(o,{key:0,label:"标题",prop:"title"},{default:(0,t.k6)((()=>[(0,t.bF)(u,{modelValue:Y.title,"onUpdate:modelValue":l[0]||(l[0]=e=>Y.title=e),placeholder:"请输入事件图标题"},null,8,["modelValue"])])),_:1})):(0,t.Q3)("",!0),N.value?((0,t.uX)(),(0,t.Wv)(o,{key:1,label:"描述",prop:"description"},{default:(0,t.k6)((()=>[(0,t.bF)(u,{modelValue:Y.description,"onUpdate:modelValue":l[1]||(l[1]=e=>Y.description=e),type:"textarea",rows:3,placeholder:"请输入事件图描述"},null,8,["modelValue"])])),_:1})):(0,t.Q3)("",!0),(0,t.Lk)("div",g,[(0,t.Lk)("div",m,[(0,t.bF)(a,{type:"primary",onClick:ne,disabled:I.value},{default:(0,t.k6)((()=>l[21]||(l[21]=[(0,t.eW)("添加节点")]))),_:1},8,["disabled"]),(0,t.bF)(a,{type:"primary",onClick:be,disabled:I.value},{default:(0,t.k6)((()=>l[22]||(l[22]=[(0,t.eW)("添加连接")]))),_:1},8,["disabled"])]),(0,t.bo)(((0,t.uX)(),(0,t.CE)("div",h,[(0,t.Lk)("div",f,[0===x.value.length?((0,t.uX)(),(0,t.CE)("div",y,l[23]||(l[23]=[(0,t.Lk)("p",null,'暂无节点，点击"添加节点"按钮开始创建',-1)]))):((0,t.uX)(),(0,t.CE)("div",_,[l[28]||(l[28]=(0,t.Lk)("h3",null,"节点列表",-1)),(0,t.bF)(q,{data:x.value,border:"",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(d,{prop:"id",label:"ID",width:"80"}),(0,t.bF)(d,{prop:"title",label:"标题"}),(0,t.bF)(d,{prop:"description",label:"描述",width:"200"},{default:(0,t.k6)((e=>[e.row.description?((0,t.uX)(),(0,t.Wv)(i,{key:0,content:e.row.description,placement:"top",effect:"light"},{default:(0,t.k6)((()=>[(0,t.Lk)("span",F,(0,r.v_)(e.row.description||"无"),1)])),_:2},1032,["content"])):((0,t.uX)(),(0,t.CE)("span",E,"无"))])),_:1}),(0,t.bF)(d,{prop:"location",label:"地点",width:"120"}),(0,t.bF)(d,{label:"时间",width:"180"},{default:(0,t.k6)((e=>[(0,t.eW)((0,r.v_)(e.row.startTime||"无")+" ~ "+(0,r.v_)(e.row.endTime||"无"),1)])),_:1}),(0,t.bF)(d,{label:"标签",width:"200"},{default:(0,t.k6)((e=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(e.row.labels,((e,l)=>((0,t.uX)(),(0,t.Wv)(X,{key:l,size:"small",style:{"margin-right":"3px","margin-bottom":"3px"}},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(e),1)])),_:2},1024)))),128)),e.row.labels&&0!==e.row.labels.length?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.CE)("span",S,"无"))])),_:1}),(0,t.bF)(d,{label:"操作",width:"150"},{default:(0,t.k6)((e=>[(0,t.bF)(a,{link:"",type:"primary",size:"small",onClick:l=>ce(e.row)},{default:(0,t.k6)((()=>l[24]||(l[24]=[(0,t.eW)("编辑")]))),_:2},1032,["onClick"]),(0,t.bF)(a,{link:"",type:"danger",size:"small",onClick:l=>ve(e.row.id)},{default:(0,t.k6)((()=>l[25]||(l[25]=[(0,t.eW)("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),l[29]||(l[29]=(0,t.Lk)("h3",{style:{"margin-top":"20px"}},"连接列表",-1)),(0,t.bF)(q,{data:D.value,border:"",style:{width:"100%"}},{default:(0,t.k6)((()=>[(0,t.bF)(d,{prop:"id",label:"ID",width:"80"}),(0,t.bF)(d,{label:"关系类型"},{default:(0,t.k6)((e=>[(0,t.eW)((0,r.v_)(de(e.row.type)),1)])),_:1}),(0,t.bF)(d,{label:"强度",width:"80"},{default:(0,t.k6)((e=>[["CAUSES","RESULTS_IN"].includes(e.row.type)?((0,t.uX)(),(0,t.CE)("span",w,(0,r.v_)(e.row.strength||"中"),1)):((0,t.uX)(),(0,t.CE)("span",C,"-"))])),_:1}),(0,t.bF)(d,{label:"起点",width:"150"},{default:(0,t.k6)((e=>[(0,t.eW)((0,r.v_)(oe(e.row.sourceId||e.row.source)),1)])),_:1}),(0,t.bF)(d,{label:"终点",width:"150"},{default:(0,t.k6)((e=>[(0,t.eW)((0,r.v_)(oe(e.row.targetId||e.row.target)),1)])),_:1}),(0,t.bF)(d,{label:"操作",width:"150"},{default:(0,t.k6)((e=>[(0,t.bF)(a,{link:"",type:"primary",size:"small",onClick:l=>ke(e.row)},{default:(0,t.k6)((()=>l[26]||(l[26]=[(0,t.eW)("编辑")]))),_:2},1032,["onClick"]),(0,t.bF)(a,{link:"",type:"danger",size:"small",onClick:l=>me(e.row.id)},{default:(0,t.k6)((()=>l[27]||(l[27]=[(0,t.eW)("删除")]))),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"])]))])])),[[Ee,I.value]])]),N.value?(0,t.Q3)("",!0):((0,t.uX)(),(0,t.Wv)(o,{key:2,style:{"margin-top":"20px"}},{default:(0,t.k6)((()=>[(0,t.bF)(a,{type:"primary",onClick:he,loading:I.value},{default:(0,t.k6)((()=>l[30]||(l[30]=[(0,t.eW)((0,r.v_)("保存节点和关系"))]))),_:1},8,["loading"]),(0,t.bF)(a,{onClick:fe,disabled:I.value},{default:(0,t.k6)((()=>l[31]||(l[31]=[(0,t.eW)("返回列表")]))),_:1},8,["disabled"])])),_:1}))])),_:1},8,["model"]),(0,t.bF)(ie,{modelValue:M.value,"onUpdate:modelValue":l[11]||(l[11]=e=>M.value=e),title:$.id?"编辑节点":"添加节点",width:"500px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",T,[(0,t.bF)(a,{onClick:l[10]||(l[10]=e=>M.value=!1),disabled:L.value},{default:(0,t.k6)((()=>l[33]||(l[33]=[(0,t.eW)("取消")]))),_:1},8,["disabled"]),(0,t.bF)(a,{type:"primary",onClick:pe,loading:L.value},{default:(0,t.k6)((()=>l[34]||(l[34]=[(0,t.eW)("确定")]))),_:1},8,["loading"])])])),default:(0,t.k6)((()=>[(0,t.bF)(A,{model:$,"label-width":"100px"},{default:(0,t.k6)((()=>[(0,t.bF)(o,{label:"节点标题",required:""},{default:(0,t.k6)((()=>[(0,t.bF)(u,{modelValue:$.title,"onUpdate:modelValue":l[2]||(l[2]=e=>$.title=e),placeholder:"请输入节点标题"},null,8,["modelValue"])])),_:1}),(0,t.bF)(o,{label:"描述"},{default:(0,t.k6)((()=>[(0,t.bF)(u,{modelValue:$.description,"onUpdate:modelValue":l[3]||(l[3]=e=>$.description=e),type:"textarea",rows:3,placeholder:"请输入节点描述"},null,8,["modelValue"])])),_:1}),(0,t.bF)(o,{label:"地点"},{default:(0,t.k6)((()=>[(0,t.bF)(u,{modelValue:$.location,"onUpdate:modelValue":l[4]||(l[4]=e=>$.location=e),placeholder:"请输入事件地点"},null,8,["modelValue"])])),_:1}),(0,t.bF)(o,{label:"开始时间"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",V,[(0,t.bF)(u,{modelValue:$.startTime,"onUpdate:modelValue":l[5]||(l[5]=e=>$.startTime=e),placeholder:"格式：YYYY-MM-DD",class:"date-input",onInput:G},null,8,["modelValue"]),(0,t.bF)(se,{modelValue:P.value,"onUpdate:modelValue":l[6]||(l[6]=e=>P.value=e),type:"date",placeholder:"选择日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:H,class:"date-picker"},null,8,["modelValue"])])])),_:1}),(0,t.bF)(o,{label:"结束时间"},{default:(0,t.k6)((()=>[(0,t.Lk)("div",R,[(0,t.bF)(u,{modelValue:$.endTime,"onUpdate:modelValue":l[7]||(l[7]=e=>$.endTime=e),placeholder:"格式：YYYY-MM-DD",class:"date-input",onInput:Z},null,8,["modelValue"]),(0,t.bF)(se,{modelValue:Q.value,"onUpdate:modelValue":l[8]||(l[8]=e=>Q.value=e),type:"date",placeholder:"选择日期",format:"YYYY-MM-DD","value-format":"YYYY-MM-DD",onChange:J,class:"date-picker"},null,8,["modelValue"])])])),_:1}),(0,t.bF)(o,{label:"标签"},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)($.labels,((e,l)=>((0,t.uX)(),(0,t.Wv)(X,{key:l,closable:"",onClose:e=>ae(l),style:{"margin-right":"5px","margin-bottom":"5px"}},{default:(0,t.k6)((()=>[(0,t.eW)((0,r.v_)(e),1)])),_:2},1032,["onClose"])))),128)),j.value?((0,t.uX)(),(0,t.Wv)(u,{key:0,ref_key:"tagInputRef",ref:z,modelValue:B.value,"onUpdate:modelValue":l[9]||(l[9]=e=>B.value=e),class:"input-new-tag",size:"small",onKeyup:(0,s.jR)(le,["enter"]),onBlur:le,style:{width:"90px","margin-right":"5px","vertical-align":"bottom"}},null,8,["modelValue"])):((0,t.uX)(),(0,t.Wv)(a,{key:1,class:"button-new-tag",size:"small",onClick:ee},{default:(0,t.k6)((()=>l[32]||(l[32]=[(0,t.eW)(" + 新标签 ")]))),_:1}))])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"]),(0,t.bF)(ie,{modelValue:te.value,"onUpdate:modelValue":l[18]||(l[18]=e=>te.value=e),title:re.id?"编辑连接":"添加连接",width:"500px"},{footer:(0,t.k6)((()=>[(0,t.Lk)("span",U,[(0,t.bF)(a,{onClick:l[17]||(l[17]=e=>te.value=!1),disabled:O.value},{default:(0,t.k6)((()=>l[35]||(l[35]=[(0,t.eW)("取消")]))),_:1},8,["disabled"]),(0,t.bF)(a,{type:"primary",onClick:ge,loading:O.value},{default:(0,t.k6)((()=>l[36]||(l[36]=[(0,t.eW)("确定")]))),_:1},8,["loading"])])])),default:(0,t.k6)((()=>[(0,t.bF)(A,{model:re,"label-width":"100px"},{default:(0,t.k6)((()=>[(0,t.bF)(o,{label:"关系类型",required:""},{default:(0,t.k6)((()=>[(0,t.bF)(Fe,{modelValue:re.type,"onUpdate:modelValue":l[12]||(l[12]=e=>re.type=e),placeholder:"请选择关系类型"},{default:(0,t.k6)((()=>[(0,t.bF)(_e,{label:"时间关系"},{default:(0,t.k6)((()=>[(0,t.bF)(ye,{label:"先于(PRECEDES)",value:"PRECEDES"}),(0,t.bF)(ye,{label:"后于(FOLLOWS)",value:"FOLLOWS"}),(0,t.bF)(ye,{label:"同时(CONCURRENT_WITH)",value:"CONCURRENT_WITH"})])),_:1}),(0,t.bF)(_e,{label:"因果关系"},{default:(0,t.k6)((()=>[(0,t.bF)(ye,{label:"导致(CAUSES)",value:"CAUSES"}),(0,t.bF)(ye,{label:"结果(RESULTS_IN)",value:"RESULTS_IN"})])),_:1}),(0,t.bF)(_e,{label:"共指关系"},{default:(0,t.k6)((()=>[(0,t.bF)(ye,{label:"共指(COREFERS_TO)",value:"COREFERS_TO"})])),_:1}),(0,t.bF)(_e,{label:"子事件关系"},{default:(0,t.k6)((()=>[(0,t.bF)(ye,{label:"包含子事件(HAS_SUBEVENT)",value:"HAS_SUBEVENT"}),(0,t.bF)(ye,{label:"属于(SUBEVENT_OF)",value:"SUBEVENT_OF"})])),_:1})])),_:1},8,["modelValue"])])),_:1}),ue.value?((0,t.uX)(),(0,t.Wv)(o,{key:0,label:"关系强度"},{default:(0,t.k6)((()=>[(0,t.bF)(Fe,{modelValue:re.strength,"onUpdate:modelValue":l[13]||(l[13]=e=>re.strength=e),placeholder:"请选择关系强度"},{default:(0,t.k6)((()=>[(0,t.bF)(ye,{label:"高",value:"高"}),(0,t.bF)(ye,{label:"中",value:"中"}),(0,t.bF)(ye,{label:"低",value:"低"})])),_:1},8,["modelValue"])])),_:1})):(0,t.Q3)("",!0),(0,t.bF)(o,{label:"起点",required:""},{default:(0,t.k6)((()=>[(0,t.bF)(Fe,{modelValue:re.source,"onUpdate:modelValue":l[14]||(l[14]=e=>re.source=e),placeholder:"请选择起点"},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(x.value,(e=>((0,t.uX)(),(0,t.Wv)(ye,{key:e.id,label:e.title,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(o,{label:"终点",required:""},{default:(0,t.k6)((()=>[(0,t.bF)(Fe,{modelValue:re.target,"onUpdate:modelValue":l[15]||(l[15]=e=>re.target=e),placeholder:"请选择终点"},{default:(0,t.k6)((()=>[((0,t.uX)(!0),(0,t.CE)(t.FK,null,(0,t.pI)(x.value,(e=>((0,t.uX)(),(0,t.Wv)(ye,{key:e.id,label:e.title,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue"])])),_:1}),(0,t.bF)(o,{label:"描述"},{default:(0,t.k6)((()=>[(0,t.bF)(u,{modelValue:re.description,"onUpdate:modelValue":l[16]||(l[16]=e=>re.description=e),type:"textarea",rows:3,placeholder:"请输入连接描述"},null,8,["modelValue"])])),_:1})])),_:1},8,["model"])])),_:1},8,["modelValue","title"])])}}},I=a(1241);const L=(0,I.A)(W,[["__scopeId","data-v-18eedd04"]]);var O=L}}]);