"use strict";(self["webpackChunktext_generation_system"]=self["webpackChunktext_generation_system"]||[]).push([[14],{9633:function(e,l,o){o.r(l),o.d(l,{default:function(){return f}});var r=o(6768),n=o(5130);const a={class:"login-container"},s={class:"tips"};function t(e,l,o,t,u,i){const d=(0,r.g2)("User"),g=(0,r.g2)("el-icon"),c=(0,r.g2)("el-input"),m=(0,r.g2)("el-form-item"),p=(0,r.g2)("Lock"),k=(0,r.g2)("el-button"),f=(0,r.g2)("router-link"),F=(0,r.g2)("el-form");return(0,r.uX)(),(0,r.CE)("div",a,[(0,r.bF)(F,{ref:"loginFormRef",model:t.loginForm,rules:t.loginRules,class:"login-form"},{default:(0,r.k6)((()=>[l[5]||(l[5]=(0,r.Lk)("h3",{class:"title"},"用户登录",-1)),(0,r.bF)(m,{prop:"username"},{default:(0,r.k6)((()=>[(0,r.bF)(c,{modelValue:t.loginForm.username,"onUpdate:modelValue":l[0]||(l[0]=e=>t.loginForm.username=e),type:"text",placeholder:"用户名"},{prefix:(0,r.k6)((()=>[(0,r.bF)(g,null,{default:(0,r.k6)((()=>[(0,r.bF)(d)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(m,{prop:"password"},{default:(0,r.k6)((()=>[(0,r.bF)(c,{modelValue:t.loginForm.password,"onUpdate:modelValue":l[1]||(l[1]=e=>t.loginForm.password=e),type:"password",placeholder:"密码"},{prefix:(0,r.k6)((()=>[(0,r.bF)(g,null,{default:(0,r.k6)((()=>[(0,r.bF)(p)])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,r.bF)(m,null,{default:(0,r.k6)((()=>[(0,r.bF)(k,{loading:t.loading,type:"primary",style:{width:"100%"},onClick:(0,n.D$)(t.handleLogin,["prevent"])},{default:(0,r.k6)((()=>l[2]||(l[2]=[(0,r.eW)(" 登录 ")]))),_:1},8,["loading","onClick"])])),_:1}),(0,r.Lk)("div",s,[l[4]||(l[4]=(0,r.Lk)("span",null,"还没有账号？",-1)),(0,r.bF)(f,{to:"/register"},{default:(0,r.k6)((()=>l[3]||(l[3]=[(0,r.eW)("立即注册")]))),_:1})])])),_:1},8,["model","rules"])])}o(4114);var u=o(144),i=o(1387),d=o(4249),g=o(1219),c=o(7477),m={name:"Login",components:{User:c.KJW,Lock:c.c_I},setup(){const e=(0,i.rd)(),l=(0,i.lq)(),o=(0,d.Pj)(),r=(0,u.KR)(null),n=(0,u.Kh)({username:"",password:""}),a=(0,u.KR)(!1),s={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},t=async()=>{try{a.value=!0,await r.value.validate();await o.dispatch("login",n);g.nk.success("登录成功");const s=l.query.redirect||"/";e.push(s)}catch(s){console.error("登录失败:",s),g.nk.error(s.message||"登录失败，请检查用户名和密码")}finally{a.value=!1}};return{loginForm:n,loginFormRef:r,loginRules:s,loading:a,handleLogin:t}}},p=o(1241);const k=(0,p.A)(m,[["render",t],["__scopeId","data-v-2e87c64d"]]);var f=k}}]);